function Banner(){this.bannerWidth=798,this.bannerGroup=$("#banner-group"),this.index=1,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-ul"),this.liList=this.bannerUl.children("li"),this.bannerCount=this.liList.length,this.pageControl=$(".page-control")}function Index(){var n=this;n.page=2,n.category_id=0,n.loadBtn=$("#load-more-btn")}$(function(){window.template&&(template.defaults.imports.timeSince=function(n){var e=new Date(n),t=e.getTime(),i=((new Date).getTime()-t)/1e3;return i<60?"刚刚":60<=i&&i<3600?(minutes=parseInt(i/60),minutes+"分钟前"):3600<=i&&i<86400?(hours=parseInt(i/60/60),hours+"小时前"):86400<=i&&i<2592e3?(days=parseInt(i/60/60/24),days+"天前"):e.getFullYear()+"/"+e.getMonth()+"/"+e.getDay()+" "+e.getHours()+":"+e.getMinutes()})}),Banner.prototype.initBanner=function(){var n=this,e=n.liList.eq(0).clone(),t=n.liList.eq(n.bannerCount-1).clone();n.bannerUl.append(e),n.bannerUl.prepend(t),n.bannerUl.css({width:n.bannerWidth*(n.bannerCount+2),left:-n.bannerWidth})},Banner.prototype.initPageControl=function(){for(var n=this,e=0;e<n.bannerCount;e++){var t=$("<li></li>");n.pageControl.append(t),0===e&&t.addClass("active")}n.pageControl.css({width:12*n.bannerCount+16+16*(n.bannerCount-1)})},Banner.prototype.toggleArrow=function(n){var e=this;n?(e.leftArrow.show(),e.rightArrow.show()):(e.leftArrow.hide(),e.rightArrow.hide())},Banner.prototype.animate=function(){var n=this;n.bannerUl.animate({left:-798*n.index},500);var e=n.index;e=0===e?n.bannerCount-1:e===n.bannerCount+1?0:n.index-1,n.pageControl.children("li").eq(e).addClass("active").siblings().removeClass("active")},Banner.prototype.loop=function(){var n=this;this.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()},2e3)},Banner.prototype.listenArrowClick=function(){var n=this;n.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerCount*n.bannerWidth}),n.index=n.bannerCount-1):n.index--,n.animate()}),n.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()})},Banner.prototype.listenBannerHover=function(){var n=this;this.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.listenPageControl=function(){var t=this;t.pageControl.children("li").each(function(n,e){$(e).click(function(){t.index=n,t.animate()})})},Banner.prototype.run=function(){console.log("sss"),this.initBanner(),this.initPageControl(),this.loop(),this.listenBannerHover(),this.listenArrowClick(),this.listenPageControl()},Index.prototype.ListenLoadMoreEvent=function(){var i=this,r=$("#load-more-btn");r.click(function(){xfzajax.get({url:"/news/list/",data:{p:i.page,category_id:i.category_id},success:function(n){if(200===n.code){var e=n.data;if(0<e.length){var t=template("news-item",{newes:e});$(".list-inner-group").append(t),i.page+=1}else r.hide()}}})})},Index.prototype.listenCategorySwitchEvent=function(){var o=this;$(".list-tab").children().click(function(){var r=$(this),a=r.attr("data-category");xfzajax.get({url:"/news/list/",data:{category_id:a,p:1},success:function(n){if(200===n.code){var e=n.data,t=template("news-item",{newes:e}),i=$(".list-inner-group");i.empty(),i.append(t),o.page=2,o.category_id=a,r.addClass("active").siblings().removeClass("active"),o.loadBtn.show()}}})})},Index.prototype.run=function(){this.ListenLoadMoreEvent(),this.listenCategorySwitchEvent()},$(function(){(new Banner).run(),(new Index).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaWR0aCIsImJhbm5lckdyb3VwIiwiJCIsImluZGV4IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVsIiwibGlMaXN0IiwiY2hpbGRyZW4iLCJiYW5uZXJDb3VudCIsImxlbmd0aCIsInBhZ2VDb250cm9sIiwiSW5kZXgiLCJzZWxmIiwicGFnZSIsImNhdGVnb3J5X2lkIiwibG9hZEJ0biIsIndpbmRvdyIsInRlbXBsYXRlIiwiZGVmYXVsdHMiLCJpbXBvcnRzIiwidGltZVNpbmNlIiwiZGF0ZVZhbHVlIiwiZGF0ZSIsIkRhdGUiLCJkYXRldHMiLCJnZXRUaW1lIiwidGltZXN0YW1wIiwibWludXRlcyIsInBhcnNlSW50IiwiaG91cnMiLCJkYXlzIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERheSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsInByb3RvdHlwZSIsImluaXRCYW5uZXIiLCJmaXJzdEJhbm5lciIsImVxIiwiY2xvbmUiLCJsYXN0QmFubmVyIiwiYXBwZW5kIiwicHJlcGVuZCIsImNzcyIsIndpZHRoIiwibGVmdCIsImluaXRQYWdlQ29udHJvbCIsImkiLCJjaXJjbGUiLCJhZGRDbGFzcyIsInRvZ2dsZUFycm93IiwiaXNTaG93Iiwic2hvdyIsImhpZGUiLCJhbmltYXRlIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsImxvb3AiLCJ0aW1lciIsInNldEludGVydmFsIiwibGlzdGVuQXJyb3dDbGljayIsImNsaWNrIiwibGlzdGVuQmFubmVySG92ZXIiLCJob3ZlciIsImNsZWFySW50ZXJ2YWwiLCJsaXN0ZW5QYWdlQ29udHJvbCIsImVhY2giLCJvYmoiLCJydW4iLCJjb25zb2xlIiwibG9nIiwiTGlzdGVuTG9hZE1vcmVFdmVudCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwicCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJuZXdzZXMiLCJ0cGwiLCJuZXdlcyIsImxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQiLCJsaSIsImF0dHIiLCJuZXdzTGlzdEdyb3VwIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQXVEQSxTQUFTQSxTQUNMQyxLQUFLQyxZQUFjLElBQ25CRCxLQUFLRSxZQUFjQyxFQUFFLGlCQUNyQkgsS0FBS0ksTUFBUSxFQUNiSixLQUFLSyxVQUFZRixFQUFFLGVBQ25CSCxLQUFLTSxXQUFhSCxFQUFFLGdCQUNwQkgsS0FBS08sU0FBV0osRUFBRSxjQUNsQkgsS0FBS1EsT0FBU1IsS0FBS08sU0FBU0UsU0FBUyxNQUNyQ1QsS0FBS1UsWUFBY1YsS0FBS1EsT0FBT0csT0FDL0JYLEtBQUtZLFlBQWNULEVBQUUsaUJBNEh6QixTQUFVVSxRQUNOLElBQUlDLEVBQU9kLEtBQ1hjLEVBQUtDLEtBQU8sRUFDWkQsRUFBS0UsWUFBYyxFQUNuQkYsRUFBS0csUUFBVWQsRUFBRSxrQkEzS3JCQSxFQUFFLFdBQ0llLE9BQU9DLFdBQ05BLFNBQVNDLFNBQVNDLFFBQVFDLFVBQVksU0FBVUMsR0FDNUMsSUFBSUMsRUFBTyxJQUFJQyxLQUFLRixHQUNoQkcsRUFBU0YsRUFBS0csVUFFZEMsSUFEUSxJQUFLSCxNQUFRRSxVQUNGRCxHQUFRLElBQy9CLE9BQUdFLEVBQVksR0FDSCxLQUVVLElBQWJBLEdBQW1CQSxFQUFZLE1BQ25DQyxRQUFVQyxTQUFTRixFQUFZLElBQ3hCQyxRQUFRLE9BRUUsTUFBYkQsR0FBc0JBLEVBQVksT0FDdENHLE1BQVFELFNBQVNGLEVBQVksR0FBSyxJQUMzQkcsTUFBTSxPQUVJLE9BQWJILEdBQXlCQSxFQUFZLFFBQ3pDSSxLQUFPRixTQUFTRixFQUFZLEdBQUssR0FBSyxJQUMvQkksS0FBTyxNQUVIUixFQUFLUyxjQUtKLElBSkFULEVBQUtVLFdBSUssSUFIWlYsRUFBS1csU0FHZSxJQUZuQlgsRUFBS1ksV0FFdUIsSUFEMUJaLEVBQUthLGlCQW9CbEN0QyxPQUFPdUMsVUFBVUMsV0FBYSxXQUMxQixJQUFJekIsRUFB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QUssV0FDTnZFLEtBQ04wRSxzQkFETTFFLEtBRU5xRiw2QkFHVGxGLEVBQUUsWUFDZSxJQUFJSixRQUNWd0UsT0FFSyxJQUFJMUQsT0FDVjBEIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIOmdouWQkeWvueixoVxyXG4vLyAxLiDmt7vliqDlsZ7mgKdcclxuLy8g6YCa6L+HdGhpc+WFs+mUruWtl++8jOe7keWumuWxnuaAp++8jOW5tuS4lOaMh+WumuS7lueahOWAvOOAglxyXG4vLyDljp/lnovpk75cclxuLy8gMi4g5re75Yqg5pa55rOVXHJcbi8vIOWcqEJhbm5lci5wcm90b3R5cGXkuIrnu5Hlrprmlrnms5XlsLHlj6/ku6XkuobjgIJcclxuXHJcbi8vIGZ1bmN0aW9uIEJhbm5lcigpIHtcclxuLy8gICAgIC8vIOi/meS4qumHjOmdouWGmeeahOS7o+eggVxyXG4vLyAgICAgLy8g55u45b2T5LqO5pivUHl0aG9u5Lit55qEX19pbml0X1/mlrnms5XnmoTku6PnoIFcclxuLy8gICAgIGNvbnNvbGUubG9nKCfmnoTpgKDlh73mlbAnKTtcclxuLy8gICAgIHRoaXMucGVyc29uID0gJ3poaWxpYW8nO1xyXG4vLyB9XHJcbi8vXHJcbi8vIEJhbm5lci5wcm90b3R5cGUuZ3JlZXQgPSBmdW5jdGlvbiAod29yZCkge1xyXG4vLyAgICAgY29uc29sZS5sb2coJ2hlbGxvICcsd29yZCk7XHJcbi8vIH07XHJcbi8vXHJcbi8vIHZhciBiYW5uZXIgPSBuZXcgQmFubmVyKCk7XHJcbi8vIGNvbnNvbGUubG9nKGJhbm5lci5wZXJzb24pO1xyXG4vLyBiYW5uZXIuZ3JlZXQoJ3poaWxpYW8nKTtcclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgIGlmKHdpbmRvdy50ZW1wbGF0ZSl7XHJcbiAgICAgICB0ZW1wbGF0ZS5kZWZhdWx0cy5pbXBvcnRzLnRpbWVTaW5jZSA9IGZ1bmN0aW9uIChkYXRlVmFsdWUpIHtcclxuICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRhdGVWYWx1ZSk7XHJcbiAgICAgICAgICAgdmFyIGRhdGV0cyA9IGRhdGUuZ2V0VGltZSgpOy8v5q+r56eSIOWPkeW4g+aXtumXtFxyXG4gICAgICAgICAgIHZhciBub3d0cyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7Ly/lvZPliY3ml7bpl7Tml7bpl7TmiLNcclxuICAgICAgICAgICB2YXIgdGltZXN0YW1wID0gKG5vd3RzLWRhdGV0cykvMTAwMDtcclxuICAgICAgICAgICBpZih0aW1lc3RhbXAgPCA2MCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICfliJrliJonO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYodGltZXN0YW1wID49IDYwICYmIHRpbWVzdGFtcCA8IDYwKjYwKSB7XHJcbiAgICAgICAgICAgICAgICBtaW51dGVzID0gcGFyc2VJbnQodGltZXN0YW1wIC8gNjApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZXMrJ+WIhumSn+WJjSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih0aW1lc3RhbXAgPj0gNjAqNjAgJiYgdGltZXN0YW1wIDwgNjAqNjAqMjQpIHtcclxuICAgICAgICAgICAgICAgIGhvdXJzID0gcGFyc2VJbnQodGltZXN0YW1wIC8gNjAgLyA2MCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaG91cnMrJ+Wwj+aXtuWJjSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih0aW1lc3RhbXAgPj0gNjAqNjAqMjQgJiYgdGltZXN0YW1wIDwgNjAqNjAqMjQqMzApIHtcclxuICAgICAgICAgICAgICAgIGRheXMgPSBwYXJzZUludCh0aW1lc3RhbXAgLyA2MCAvIDYwIC8gMjQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRheXMgKyAn5aSp5YmNJztcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWludXRlID0gZGF0ZS5nZXRNaW51dGVzKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geWVhcisnLycrbW9udGgrJy8nK2RheStcIiBcIitob3VyK1wiOlwiK21pbnV0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgfVxyXG4gICB9XHJcbn0pXHJcblxyXG5cclxuZnVuY3Rpb24gQmFubmVyKCkge1xyXG4gICAgdGhpcy5iYW5uZXJXaWR0aCA9IDc5ODtcclxuICAgIHRoaXMuYmFubmVyR3JvdXAgPSAkKFwiI2Jhbm5lci1ncm91cFwiKTtcclxuICAgIHRoaXMuaW5kZXggPSAxO1xyXG4gICAgdGhpcy5sZWZ0QXJyb3cgPSAkKFwiLmxlZnQtYXJyb3dcIik7XHJcbiAgICB0aGlzLnJpZ2h0QXJyb3cgPSAkKFwiLnJpZ2h0LWFycm93XCIpO1xyXG4gICAgdGhpcy5iYW5uZXJVbCA9ICQoXCIjYmFubmVyLXVsXCIpO1xyXG4gICAgdGhpcy5saUxpc3QgPSB0aGlzLmJhbm5lclVsLmNoaWxkcmVuKFwibGlcIik7XHJcbiAgICB0aGlzLmJhbm5lckNvdW50ID0gdGhpcy5saUxpc3QubGVuZ3RoO1xyXG4gICAgdGhpcy5wYWdlQ29udHJvbCA9ICQoXCIucGFnZS1jb250cm9sXCIpO1xyXG59XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmluaXRCYW5uZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgZmlyc3RCYW5uZXIgPSBzZWxmLmxpTGlzdC5lcSgwKS5jbG9uZSgpO1xyXG4gICAgdmFyIGxhc3RCYW5uZXIgPSBzZWxmLmxpTGlzdC5lcShzZWxmLmJhbm5lckNvdW50LTEpLmNsb25lKCk7XHJcbiAgICBzZWxmLmJhbm5lclVsLmFwcGVuZChmaXJzdEJhbm5lcik7XHJcbiAgICBzZWxmLmJhbm5lclVsLnByZXBlbmQobGFzdEJhbm5lcik7XHJcbiAgICBzZWxmLmJhbm5lclVsLmNzcyh7XCJ3aWR0aFwiOnNlbGYuYmFubmVyV2lkdGgqKHNlbGYuYmFubmVyQ291bnQrMiksJ2xlZnQnOi1zZWxmLmJhbm5lcldpZHRofSk7XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmluaXRQYWdlQ29udHJvbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGZvcih2YXIgaT0wOyBpPHNlbGYuYmFubmVyQ291bnQ7IGkrKyl7XHJcbiAgICAgICAgdmFyIGNpcmNsZSA9ICQoXCI8bGk+PC9saT5cIik7XHJcbiAgICAgICAgc2VsZi5wYWdlQ29udHJvbC5hcHBlbmQoY2lyY2xlKTtcclxuICAgICAgICBpZihpID09PSAwKXtcclxuICAgICAgICAgICAgY2lyY2xlLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNlbGYucGFnZUNvbnRyb2wuY3NzKHtcIndpZHRoXCI6c2VsZi5iYW5uZXJDb3VudCoxMis4KjIrMTYqKHNlbGYuYmFubmVyQ291bnQtMSl9KTtcclxufTtcclxuXHJcbkJhbm5lci5wcm90b3R5cGUudG9nZ2xlQXJyb3cgPSBmdW5jdGlvbiAoaXNTaG93KSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBpZihpc1Nob3cpe1xyXG4gICAgICAgIHNlbGYubGVmdEFycm93LnNob3coKTtcclxuICAgICAgICBzZWxmLnJpZ2h0QXJyb3cuc2hvdygpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgc2VsZi5sZWZ0QXJyb3cuaGlkZSgpO1xyXG4gICAgICAgIHNlbGYucmlnaHRBcnJvdy5oaWRlKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmJhbm5lclVsLmFuaW1hdGUoe1wibGVmdFwiOi03OTgqc2VsZi5pbmRleH0sNTAwKTtcclxuICAgIHZhciBpbmRleCA9IHNlbGYuaW5kZXg7XHJcbiAgICBpZihpbmRleCA9PT0gMCl7XHJcbiAgICAgICAgaW5kZXggPSBzZWxmLmJhbm5lckNvdW50LTE7XHJcbiAgICB9ZWxzZSBpZihpbmRleCA9PT0gc2VsZi5iYW5uZXJDb3VudCsxKXtcclxuICAgICAgICBpbmRleCA9IDA7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBpbmRleCA9IHNlbGYuaW5kZXggLSAxO1xyXG4gICAgfVxyXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jaGlsZHJlbignbGknKS5lcShpbmRleCkuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxvb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmKHNlbGYuaW5kZXggPj0gc2VsZi5iYW5uZXJDb3VudCsxKXtcclxuICAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3Moe1wibGVmdFwiOi1zZWxmLmJhbm5lcldpZHRofSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSAyO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgfSwyMDAwKTtcclxufTtcclxuXHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlbkFycm93Q2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxlZnRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYoc2VsZi5pbmRleCA9PT0gMCl7XHJcbiAgICAgICAgICAgIC8vID0977yaMSA9PSAnMSfvvJp0cnVlXHJcbiAgICAgICAgICAgIC8vID09PT0gMSAhPSAnMSdcclxuICAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3Moe1wibGVmdFwiOi1zZWxmLmJhbm5lckNvdW50KnNlbGYuYmFubmVyV2lkdGh9KTtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IHNlbGYuYmFubmVyQ291bnQgLSAxO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4LS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHNlbGYucmlnaHRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYoc2VsZi5pbmRleCA9PT0gc2VsZi5iYW5uZXJDb3VudCArIDEpe1xyXG4gICAgICAgICAgICBzZWxmLmJhbm5lclVsLmNzcyh7XCJsZWZ0XCI6LXNlbGYuYmFubmVyV2lkdGh9KTtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IDI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5hbmltYXRlKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuQmFubmVySG92ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLmJhbm5lckdyb3VwLmhvdmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyDnrKzkuIDkuKrlh73mlbDmmK/vvIzmiorpvKDmoIfnp7vliqjliLBiYW5uZXLkuIrkvJrmiafooYznmoTlh73mlbBcclxuICAgICAgICBjbGVhckludGVydmFsKHNlbGYudGltZXIpO1xyXG4gICAgICAgIHNlbGYudG9nZ2xlQXJyb3codHJ1ZSk7XHJcbiAgICB9LGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyDnrKzkuozkuKrlh73mlbDmmK/vvIzmiorpvKDmoIfku45iYW5uZXLkuIrnp7votbDkvJrmiafooYznmoTlh73mlbBcclxuICAgICAgICBzZWxmLmxvb3AoKTtcclxuICAgICAgICBzZWxmLnRvZ2dsZUFycm93KGZhbHNlKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5QYWdlQ29udHJvbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucGFnZUNvbnRyb2wuY2hpbGRyZW4oXCJsaVwiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCxvYmopIHtcclxuICAgICAgICAkKG9iaikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuQmFubmVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInNzc1wiKTtcclxuICAgIHRoaXMuaW5pdEJhbm5lcigpO1xyXG4gICAgdGhpcy5pbml0UGFnZUNvbnRyb2woKTtcclxuICAgIHRoaXMubG9vcCgpO1xyXG4gICAgdGhpcy5saXN0ZW5CYW5uZXJIb3ZlcigpO1xyXG4gICAgdGhpcy5saXN0ZW5BcnJvd0NsaWNrKCk7XHJcbiAgICB0aGlzLmxpc3RlblBhZ2VDb250cm9sKCk7XHJcbn07XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uICBJbmRleCgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucGFnZSA9IDJcclxuICAgIHNlbGYuY2F0ZWdvcnlfaWQgPSAwXHJcbiAgICBzZWxmLmxvYWRCdG4gPSAkKCcjbG9hZC1tb3JlLWJ0bicpO1xyXG59XHJcblxyXG5JbmRleC5wcm90b3R5cGUuTGlzdGVuTG9hZE1vcmVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgdmFyIGxvYWRCdG4gPSAkKCcjbG9hZC1tb3JlLWJ0bicpO1xyXG4gICAgIGxvYWRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICAndXJsJzonL25ld3MvbGlzdC8nLFxyXG4gICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICAncCc6c2VsZi5wYWdlLFxyXG4gICAgICAgICAgICAgICAgICdjYXRlZ29yeV9pZCc6c2VsZi5jYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICAgaWYobmV3c2VzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoXCJuZXdzLWl0ZW1cIix7XCJuZXdlc1wiOm5ld3Nlc30pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bCA9ICQoJy5saXN0LWlubmVyLWdyb3VwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHVsLmFwcGVuZCh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkQnRuLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pXHJcbiAgICAgfSlcclxufVxyXG5cclxuSW5kZXgucHJvdG90eXBlLmxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdGFiR3JvdXAgPSAkKFwiLmxpc3QtdGFiXCIpO1xyXG4gICAgdGFiR3JvdXAuY2hpbGRyZW4oKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gdGhpc++8muS7o+ihqOW9k+WJjemAieS4reeahOi/meS4qmxp5qCH562+XHJcbiAgICAgICAgdmFyIGxpID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgY2F0ZWdvcnlfaWQgPSBsaS5hdHRyKFwiZGF0YS1jYXRlZ29yeVwiKTtcclxuICAgICAgICB2YXIgcGFnZSA9IDE7XHJcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9uZXdzL2xpc3QvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnlfaWQnOiBjYXRlZ29yeV9pZCxcclxuICAgICAgICAgICAgICAgICdwJzogcGFnZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoXCJuZXdzLWl0ZW1cIix7XCJuZXdlc1wiOm5ld3Nlc30pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR577ya5Y+v5Lul5bCG6L+Z5Liq5qCH562+5LiL55qE5omA5pyJ5a2Q5YWD57Sg6YO95Yig5o6JXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld3NMaXN0R3JvdXAgPSAkKFwiLmxpc3QtaW5uZXItZ3JvdXBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3c0xpc3RHcm91cC5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld3NMaXN0R3JvdXAuYXBwZW5kKHRwbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNhdGVnb3J5X2lkID0gY2F0ZWdvcnlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZEJ0bi5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5JbmRleC5wcm90b3R5cGUucnVuID1mdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLkxpc3RlbkxvYWRNb3JlRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuQ2F0ZWdvcnlTd2l0Y2hFdmVudCgpO1xyXG59XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBiYW5uZXIgPSBuZXcgQmFubmVyKCk7XHJcbiAgICBiYW5uZXIucnVuKCk7XHJcblxyXG4gICAgdmFyIGluZGV4ID0gbmV3IEluZGV4KCk7XHJcbiAgICBpbmRleC5ydW4oKTtcclxufSk7Il19
